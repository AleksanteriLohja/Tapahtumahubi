<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Tapahtumahubi.App.NewEventPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:vm="clr-namespace:Tapahtumahubi.App.ViewModels"
    Title="Uusi / Muokkaa tapahtumaa">

    <!-- Huom: Tab-järjestys seuraa elementtien järjestystä alla -->

    <ScrollView>
        <Grid Padding="16" ColumnDefinitions="Auto,*"
              RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto">

            <!-- Otsikko -->
            <Label Grid.Row="0" Grid.Column="0" Text="Otsikko" VerticalTextAlignment="Center" />
            <Entry  x:Name="TitleEntry"
                    Grid.Row="0" Grid.Column="1"
                    Text="{Binding TitleText, Mode=TwoWay}"
                    ReturnType="Next"
                    Completed="OnTitleCompleted" />

            <!-- Sijainti -->
            <Label Grid.Row="1" Grid.Column="0" Text="Sijainti" VerticalTextAlignment="Center" />
            <Entry  x:Name="LocationEntry"
                    Grid.Row="1" Grid.Column="1"
                    Text="{Binding Location, Mode=TwoWay}"
                    ReturnType="Next"
                    Completed="OnLocationCompleted" />

            <!-- Päivä -->
            <Label Grid.Row="2" Grid.Column="0" Text="Päivä" VerticalTextAlignment="Center" />
            <DatePicker x:Name="DatePickerControl"
                        Grid.Row="2" Grid.Column="1"
                        Date="{Binding EventDate, Mode=TwoWay}" />

            <!-- Kellonaika -->
            <Label Grid.Row="3" Grid.Column="0" Text="Kellonaika" VerticalTextAlignment="Center" />
            <TimePicker x:Name="TimePickerControl"
                        Grid.Row="3" Grid.Column="1"
                        Time="{Binding EventTime, Mode=TwoWay}" />

            <!-- Kuvaus -->
            <Label Grid.Row="4" Grid.Column="0" Text="Kuvaus" VerticalTextAlignment="Start" />
            <Editor x:Name="DescriptionEditor"
                    Grid.Row="4" Grid.Column="1"
                    AutoSize="TextChanges"
                    HeightRequest="100"
                    Text="{Binding Description, Mode=TwoWay}" />

            <!-- Max osallistujat -->
            <Label Grid.Row="5" Grid.Column="0" Text="Maks. osallistujat" VerticalTextAlignment="Center" />
            <Entry  x:Name="MaxParticipantsEntry"
                    Grid.Row="5" Grid.Column="1"
                    Text="{Binding MaxParticipants, Mode=TwoWay}"
                    Keyboard="Numeric"
                    ReturnType="Next"
                    Completed="OnMaxParticipantsCompleted" />

            <!-- Info/virheilmoitukset (valinnainen paikka) -->
            <Label Grid.Row="6" Grid.ColumnSpan="2"
                   Margin="0,8,0,0"
                   TextColor="{DynamicResource SecondaryTextColor}" />

            <!-- Napit -->
            <Grid Grid.Row="7" Grid.ColumnSpan="2" ColumnDefinitions="*,Auto,Auto" Margin="0,12,0,0">
                <Label Grid.Column="0" />
                <Button x:Name="CancelButton"
                        Grid.Column="1"
                        Text="Peruuta"
                        Command="{Binding CancelCommand}" />
                <Button x:Name="SaveButton"
                        Grid.Column="2"
                        Text="Tallenna"
                        Command="{Binding SaveCommand}" />
            </Grid>
        </Grid>
    </ScrollView>
</ContentPage>